{% load static %}

<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Where To Go</title>

  <!-- 라이브러리 -->
  <!-- <link rel="stylesheet" type="text/css" href='{% static "css/fullpage.min.css" %}' /> -->
  <link rel="stylesheet" type="text/css" href='{% static "css/materialize.min.css" %}' />
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <!-- style  -->
  <link rel="stylesheet" type="text/css" href='../../static/css/main.css' />
  <!-- font -->
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Nanum+Myeongjo" rel="stylesheet">
  <style>
    .wrap-test-similar img{
    width: 300px;
    height: 200px;
    }
    .tooltip:hover{text-decoration: none;}
    .tooltip span{
      visibility: hidden;
      padding:4px 10px;
      border-radius: 6px;
    }
    .tooltip:hover span{
      visibility: visible;
      position: relative;
      color: #EEE;
      background: #333;
      text-align: center;
    }
    .tooltip{
      text-align: center;
    }
  </style>
</head>
{% include "main/loader2.html" %}

<body id="body" >
    <video class="video-test" autoplay loop>
        <source src='../../static/video/main2.mp4' style="height:150%" type="video/mp4">
    </video>
		<div class="col-container">
            <div class="col-box" >
                  <div class="col-1 wrap-test-2">
                    {% for img in result_img %}
                      <img  src='/static/{{img.url}}' class="result_img borderimg2" id='{{ forloop.counter }}' alt="" />
                    {% endfor %}
                  </div>
                    <style media="screen">
                      .wrap-test{
                        text-align: center;
                        width: 100vw;
                        max-height: 500px;
                      }
                      .result_img{
                        margin-top: auto;margin-bottom: auto;
                        margin-left: auto; margin-right: auto;
                        max-width: 800px;
                        max-height: 400px;
                        overflow: hidden;

                      }
                      .col-3{
                        max-height: 400px;
                      }
                    </style>
                    <script type="text/javascript">
                      window.onload=()=>{
                        var result_img=document.getElementsByClassName("result_img");
                        // console.log(result_img);
                        var idx=0;
                        var len = result_img.length;

                        for(i=0;i<len;i++){
                          $(result_img[i]).css('display','none');
                          // console.log($(result_img[i]));
                        }
                        $(result_img[idx]).css('display','block');
                        var int=self.setInterval(function(){
                          for(i=0;i<len;i++){
                            $(result_img[i]).css('display','none');
                          }
                          $(result_img[idx]).css('display','block');
                          console.log($(result_img[idx]).css('display'));
                          idx=idx+1;
                          if(idx>=len){
                            idx = idx-len;
                          }
                          console.log(idx);
                        }, 5000);


                      }
                    </script>
            </div>
                <p class="white-typo"><b>당신을 위한 여행지는</b>
                <b> "{{ result_land.country }} 의 {{ result_land.landmark }}" </b>
                <b> 입니다</b></p><br/><br/>
            <div class="">
            <p class="white-typo" style="font-size:15px">이런 여행지는 어떠신가요?</p>
            </div>
            <div class="col-box">
              {% for img in similar_img %}
                <div class="col-3 tooltip">
                  <div class="wrap-test-similar"><img class="borderimg1" src='/static/{{img.url}}'/>
                  </div>
                  <span >{{ img.landmark.landmark }}</span>
                </div>
              {% endfor %}
            </div>
            <button id="back_btn" type="button" name="button"><a href="/main/home">다른 곳 추천받기</a>
              <style media="screen">
                #back_btn{
                  text-align: center;
                  margin: 0 auto;
                  display: flex;
                  justify-content: center;
                }
              </style>
            </button>
        </div>
</body>
</html>
<style>
.borderimg1 {
  border: 10px solid transparent;
  padding: 3px;
  -webkit-border-image: url(/static/image/border.png) 30 round; /* Safari 3.1-5 */
  -o-border-image: url(/static/image/border.png) 30 round; /* Opera 11-12.1 */
  border-image: url(/static/image/border.png) 30 round;
}

.borderimg2 {
  border: 10px solid transparent;
  padding: 15px;
  -webkit-border-image: url(/static/image/border.png) 30 stretch; /* Safari 3.1-5 */
  -o-border-image: url(/static/image/border.png) 30 stretch; /* Opera 11-12.1 */
  border-image: url(/static/image/border.png) 30 stretch;
}
.frame {
margin:50px auto;
border:25px solid #222;
height:525px;
width:400px;
-webkit-box-shadow:  px 2px 3px 1px rgba(0, 0, 0, .5);
box-shadow:  0px 3px 10px 4px rgba(0, 0, 0, .3);
}

.border {
background:white;
height:100%;
width:100%;
-webkit-box-shadow: inset 10px 10px 10px 4px rgba(0, 0, 0, .4);
box-shadow: inset 3px 7px 2px 5px rgba(0, 0, 0, .4);
}

.image {
position:absolute;
height:400px;
width:300px;
margin-left:50px;
margin-top:50px;
-webkit-box-shadow: inset 10px 10px 10px 4px rgba(0, 0, 0, .6);
box-shadow: inset 3px 7px 2px 5px rgba(0, 0, 0, .1);
border:2px inset #c9c9c9;
}
</style>
